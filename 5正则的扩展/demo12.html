<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<script>
		// --------------------------String.prototype.matchAll----------------------------
		// 如果一个正则表达式在字符串里面有多个匹配，现在一般使用g修饰符或y修饰符，在循环里面逐一取出。

		var regex = /t(e)(st(\d?))/g;
		var string = 'test1test2test3';

		var matches = [];
		var match;
		while (match = regex.exec(string)) {
			matches.push(match);
		};
		console.log(matches);

		// 目前有个提案，增加了String.prototype.matchAll方法，可以一次性取出所有匹配。不过，它返回的是一个遍历器（Iterator），而不是数组。
		// const string1 = 'test1test2test3';

		// g 修饰符加不加都可以
		// const regex1 = /t(e)(st(\d?))/g;

		// for (const match2 of string1.matchAll(regex1)) {
		//   console.log(match2);
		// }
		// ["test1", "e", "st1", "1", index: 0, input: "test1test2test3"]
		// ["test2", "e", "st2", "2", index: 5, input: "test1test2test3"]
		// ["test3", "e", "st3", "3", index: 10, input: "test1test2test3"]
	</script>
</body>
</html>